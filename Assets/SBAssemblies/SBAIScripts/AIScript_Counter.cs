//------------------------------------------------------------------------------
// <auto-generated>
//     Dieser Code wurde von einem Tool generiert.
//     Laufzeitversion:4.0.30319.42000
//
//     Änderungen an dieser Datei können falsches Verhalten verursachen und gehen verloren, wenn
//     der Code erneut generiert wird.
// </auto-generated>
//------------------------------------------------------------------------------

using Engine;
using SBAI;
using SBAIScripts;
using SBBase;
using SBGame;
using SBGamePlay;
using SBMiniGames;
using System;
using System.Collections;
using System.Collections.Generic;
using SBAssemblies;

namespace SBAIScripts
{
    
    
    [System.Serializable] public class AIScript_Counter : AI_Script
    {
        
        [Sirenix.OdinInspector.FoldoutGroup("Counter")]
        [FieldConst()]
        public int TotalCount;
        
        [Sirenix.OdinInspector.FoldoutGroup("Counter")]
        [FieldConst()]
        public float TimeFrame;
        
        [Sirenix.OdinInspector.FoldoutGroup("Counter")]
        [FieldConst()]
        public bool UseTimeFrame;
        
        [Sirenix.OdinInspector.FoldoutGroup("Counter")]
        [FieldConst()]
        public bool TriggerAble;
        
        [Sirenix.OdinInspector.FoldoutGroup("Counter")]
        [FieldConst()]
        public bool ResetWhenCountIsReached;
        
        [Sirenix.OdinInspector.FoldoutGroup("Counter")]
        [FieldConst()]
        public bool ResetOnUntrigger;
        
        [Sirenix.OdinInspector.FoldoutGroup("Events")]
        [FieldConst()]
        public string UnEvent = string.Empty;
        
        public List<float> Timestamps = new List<float>();
        
        public float CurrentTime;
        
        public bool Active;
        
        public AIScript_Counter()
        {
        }
    }
}
/*
protected event GetActorRelations(out array<ActorRelation> oRelations) {
Super.GetActorRelations(oRelations);                                        
GetTaggedRelations(UnEvent,static.RGB(255,100,100),"UnEvent:" @ UnEvent,oRelations);
}
function Reset() {
CurrentTime = 0.00000000;                                                   
Timestamps.Remove(0,Timestamps.Length);                                     
}
function FlushTimestamps() {
local int i;
local int TimestampsToRemove;
i = 0;                                                                      
while (i < Timestamps.Length) {                                             
Timestamps[i] -= CurrentTime;                                             
if (Timestamps[i] + TimeFrame < 0) {                                      
TimestampsToRemove++;                                                   
}
i++;                                                                      
}
if (TimestampsToRemove > 0) {                                               
Timestamps.Remove(0,TimestampsToRemove);                                  
}
CurrentTime = 0.00000000;                                                   
}
function DoCount() {
if (Active) {                                                               
Timestamps[Timestamps.Length] = CurrentTime;                              
if (UseTimeFrame) {                                                       
FlushTimestamps();                                                      
}
if (Timestamps.Length == TotalCount) {                                    
if (Event != 'None') {                                                  
TriggerEvent(Event,self,None);                                        
}
if (UnEvent != "none" && UnEvent != "") {                               
UntriggerEvent(name(UnEvent),self,None);                              
}
if (ResetWhenCountIsReached) {                                          
Reset();                                                              
}
}
}
}
protected event sv_OnScriptFrame(float DeltaTime) {
if (Active) {                                                               
CurrentTime += DeltaTime;                                                 
}
}
event UnTrigger(Actor Other,Pawn EventInstigator) {
if (ResetOnUntrigger && TriggerAble
&& Active) {                      
Reset();                                                                  
Active = False;                                                           
}
}
event Trigger(Actor Other,Pawn EventInstigator) {
if (TriggerAble && !Active) {                                               
Reset();                                                                  
Active = True;                                                            
}
}
event PostBeginPlay() {
Super.PostBeginPlay();                                                      
Active = !TriggerAble;                                                      
}
*/
