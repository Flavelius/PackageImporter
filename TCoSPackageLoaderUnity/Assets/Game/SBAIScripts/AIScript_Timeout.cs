//------------------------------------------------------------------------------
// <auto-generated>
//     Dieser Code wurde von einem Tool generiert.
//     Laufzeitversion:4.0.30319.42000
//
//     Änderungen an dieser Datei können falsches Verhalten verursachen und gehen verloren, wenn
//     der Code erneut generiert wird.
// </auto-generated>
//------------------------------------------------------------------------------

using Engine;
using SBAI;
using SBAIScripts;
using SBBase;
using SBGame;
using SBGamePlay;
using SBMiniGames;
using System;
using System.Collections;
using System.Collections.Generic;
using Framework.Attributes;

namespace SBAIScripts
{
    
    
    public class AIScript_Timeout : AIRegistered
    {
        
        [FieldCategory(Category="Timeout")]
        [FieldConst()]
        public float Timeout;
        
        [FieldCategory(Category="Timeout")]
        [FieldConst()]
        public float TimeoutRange;
        
        [FieldCategory(Category="Timeout")]
        [FieldConst()]
        public bool TriggerAble;
        
        [FieldCategory(Category="Timeout")]
        [FieldConst()]
        public bool StartOnAttach;
        
        [FieldCategory(Category="Events")]
        [FieldConst()]
        public string UnEvent = string.Empty;
        
        public float CurrentTime;
        
        public AIScript_Timeout()
        {
        }
    }
}
/*
protected event GetActorRelations(out array<ActorRelation> oRelations) {
Super.GetActorRelations(oRelations);                                        
GetTaggedRelations(UnEvent,static.RGB(255,100,100),"UnEvent:" @ UnEvent,oRelations);
}
state ActiveState {
protected event sv_OnScriptFrame(float DeltaTime) {
local int i;
local array<RegisteredAI> Register;
CurrentTime += DeltaTime;                                               
if (CurrentTime >= Timeout) {                                           
Debug("Timer ended after" @ string(CurrentTime)
@ "seconds");
if (GetRegisterSize() > 0) {                                          
Register = GetRegister();                                           
i = 0;                                                              
while (i < Register.Length) {                                       
ChangeToNextScript(Register[i].Controller);                       
i++;                                                              
}
}
TriggerEvent(Event,self,None);                                        
if (UnEvent != "None" && UnEvent != "") {                             
UntriggerEvent(name(UnEvent),self,None);                            
}
GotoState('InactiveState');                                           
}
}
protected function OnRegisterEmptied() {
GotoState('InactiveState');                                             
}
event UnTrigger(Actor Other,Pawn EventInstigator) {
GotoState('InactiveState');                                             
}
event Trigger(Actor Other,Pawn EventInstigator) {
Debug("Reset timer because of trigger from"
@ string(EventInstigator));
ResetTimer();                                                           
}
function ResetTimer() {
CurrentTime = 0.00000000;                                               
if (TimeoutRange > 0) {                                                 
CurrentTime -= FRand() * TimeoutRange;                                
}
}
function BeginState() {
Debug("Timer started");                                                 
ResetTimer();                                                           
}
}
state InactiveState {
protected function OnRegister(RegisteredAI aRegisteredAI) {
if (StartOnAttach) {                                                    
GotoState('ActiveState');                                             
}
}
event Trigger(Actor Other,Pawn EventInstigator) {
if (TriggerAble) {                                                      
GotoState('ActiveState');                                             
}
}
}
auto state Initialize {
function BeginState() {
if (TriggerAble || StartOnAttach) {                                     
GotoState('InactiveState');                                           
} else {                                                                
GotoState('ActiveState');                                             
}
}
}
*/
